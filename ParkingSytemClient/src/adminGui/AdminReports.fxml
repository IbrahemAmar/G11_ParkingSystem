<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="adminGui.AdminReportsController"
            prefWidth="800.0" prefHeight="600.0">

    <TabPane layoutX="20.0" layoutY="20.0" prefWidth="760.0" prefHeight="500.0">

        <!-- Tab 1: Parking Time -->
        <Tab text="Parking Time">
            <AnchorPane>
                <Label layoutX="10.0" layoutY="10.0" text="Monthly Parking Time Report">
                    <font>
                        <Font size="20.0"/>
                    </font>
                </Label>
                
                <ComboBox fx:id="comboYear" layoutX="500.0" layoutY="10.0" prefWidth="100.0" onAction="#handleMonthOrYearSelection"/>
                <ComboBox fx:id="comboMonth" layoutX="610.0" layoutY="10.0" prefWidth="100.0" onAction="#handleMonthOrYearSelection"/>
                
                <Label fx:id="labelTotalHours"
                       layoutX="20.0" layoutY="40.0"
                       style="-fx-font-size: 14px; -fx-font-weight: bold;" />
                
                <PieChart fx:id="parkingTimePieChart"
                          layoutX="50.0" layoutY="70.0"
                          prefWidth="650.0" prefHeight="370.0"
                          title="Total Monthly Parking Time"/>
            </AnchorPane>
        </Tab>

        <!-- Tab 2: Subscribers per Day -->
        <Tab text="Subscribers per Day">
            <AnchorPane>
                <Label layoutX="10.0" layoutY="10.0" text="Subscribers Parking Count per Day">
                    <font>
                        <Font size="20.0"/>
                    </font>
                </Label>
                
                <BarChart fx:id="subscribersBarChart"
                          layoutX="50.0" layoutY="50.0"
                          prefWidth="680.0" prefHeight="400.0"
                          title="Subscribers Parked per Day"
                          categoryGap="5" barGap="2">
                    <xAxis>
                        <CategoryAxis label="Day of Month" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Number of Subscribers" />
                    </yAxis>
                </BarChart>
            </AnchorPane>
        </Tab>
    </TabPane>

    <Button fx:id="btnBack"
            layoutX="20.0" layoutY="540.0"
            mnemonicParsing="false"
            onAction="#handleBack"
            text="Back"
            style="-fx-background-color: #1565C0; -fx-text-fill: white; -fx-font-size: 14px; -fx-background-radius: 6; -fx-pref-width: 120;" />
</AnchorPane>
