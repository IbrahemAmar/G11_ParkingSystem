<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="adminGui.AdminSubscribersController"
            prefHeight="600" prefWidth="850"
            stylesheets="@admincss.css"
            styleClass="admin-background">

    <VBox spacing="25" styleClass="admin-content-box">

        <!-- Title -->
        <Label text="👤 Subscriber Management" styleClass="admin-title" />

        <!-- Search Row -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <TextField fx:id="txtSearchId" promptText="Search by Subscriber ID" styleClass="search-field"/>
            <Button fx:id="btnSearch" text="🔍 Search" styleClass="btn-action"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnRefresh" text="🔄 View All" styleClass="btn-refresh"/>
        </HBox>

        <!-- Table -->
        <TableView fx:id="subscriberTable" prefHeight="250" styleClass="admin-table">
            <columns>
                <TableColumn fx:id="colSubCode" text="Subscriber Code" prefWidth="140"/>
                <TableColumn fx:id="colId" text="ID" prefWidth="60"/>
                <TableColumn fx:id="colFullName" text="Fullname" prefWidth="160"/>
                <TableColumn fx:id="colUsername" text="Username" prefWidth="140"/>
                <TableColumn fx:id="colPhone" text="Phone number" prefWidth="120"/>
                <TableColumn fx:id="colEmail" text="Email" prefWidth="180"/>
            </columns>
        </TableView>

        <Button fx:id="btnParkingHistory" text="📜 View Parking History" styleClass="btn-secondary" onAction="#handleParkingHistory"/>

        <!-- Add New Subscriber Section -->
        <VBox spacing="10">
            <Label text="➕ Add New Subscriber (role: subscriber)" styleClass="form-label"/>
            <HBox spacing="10">
                <TextField fx:id="txtID" promptText="ID" styleClass="form-input"/>
                <PasswordField fx:id="txtPassword" promptText="Password" styleClass="form-input"/>
                <TextField fx:id="txtFirstName" promptText="First Name" styleClass="form-input"/>
                <TextField fx:id="txtLastName" promptText="Last Name" styleClass="form-input"/>
                <TextField fx:id="txtEmail" promptText="Email" styleClass="form-input"/>
                <TextField fx:id="txtPhone" promptText="Phone" styleClass="form-input"/>
            </HBox>
        </VBox>

        <Button fx:id="btnAddSubscriber" text="➕ Add Subscriber" styleClass="btn-action"/>

        <Label fx:id="lblStatus" text="Status messages appear here" styleClass="admin-status"/>

        <!-- Back Button -->
        <HBox alignment="CENTER_RIGHT">
            <Button fx:id="btnBack" text="🔙 Back" onAction="#handleBack" styleClass="btn-secondary"/>
        </HBox>

    </VBox>
</AnchorPane>
